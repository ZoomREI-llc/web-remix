{"version":3,"file":"full-form/view.js","mappings":"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","sources":["webpack://chris-buys-blocks/./src/full-form/modules/formHandlers.js","webpack://chris-buys-blocks/./src/full-form/modules/initAutocomplete.js","webpack://chris-buys-blocks/./src/full-form/modules/phoneFormat.js","webpack://chris-buys-blocks/./src/full-form/modules/utils.js","webpack://chris-buys-blocks/webpack/bootstrap","webpack://chris-buys-blocks/webpack/runtime/define property getters","webpack://chris-buys-blocks/webpack/runtime/hasOwnProperty shorthand","webpack://chris-buys-blocks/webpack/runtime/make namespace object","webpack://chris-buys-blocks/./src/full-form/view.js"],"sourcesContent":["function loadGoogleFonts() {\r\n\tconst link = document.createElement(\"link\");\r\n\tlink.href =\r\n\t\t\"https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap\";\r\n\tlink.rel = \"stylesheet\";\r\n\tdocument.head.appendChild(link);\r\n}\r\n\r\nwindow.addEventListener(\"load\", (event) => {\r\n\tconst form = document.querySelector(\"#cb-lead-form\");\r\n\tif (form) {\r\n\t\tloadGoogleFonts();\r\n\t\tform.style.opacity = \"1\";\r\n\t\tform.addEventListener(\"submit\", handleFormSubmit);\r\n\t}\r\n});\r\n\r\nexport function handleFormSubmit(event) {\r\n\tevent.preventDefault();\r\n\r\n\tconst form = event.target;\r\n\tconst autocompleteField = form.querySelector(\r\n\t\t'input[name=\"property_address\"]',\r\n\t);\r\n\tconst fullNameField = form.querySelector('input[name=\"full_name\"]');\r\n\tconst emailField = form.querySelector('input[name=\"email\"]');\r\n\tconst phoneField = form.querySelector('input[name=\"phone\"]');\r\n\r\n\tconst formData = {\r\n\t\tproperty_address: autocompleteField.value,\r\n\t\tfull_name: fullNameField.value,\r\n\t\temail: emailField.value,\r\n\t\tphone: phoneField.value,\r\n\t};\r\n\r\n\tconst utmFields = [\r\n\t\t\"utm_source\",\r\n\t\t\"utm_campaign\",\r\n\t\t\"utm_medium\",\r\n\t\t\"utm_term\",\r\n\t\t\"utm_content\",\r\n\t];\r\n\tutmFields.forEach((field) => {\r\n\t\tconst value = form.querySelector(`input[name=\"${field}\"]`).value;\r\n\t\tif (value) {\r\n\t\t\tformData[field] = value;\r\n\t\t}\r\n\t});\r\n\r\n\twindow.dataLayer.push({ event: \"dh-lead\", form_data: formData });\r\n\r\n\tconsole.log(\"Submitting to WordPress endpoint\");\r\n\tconsole.log(\"Form data:\", formData);\r\n\r\n\tfetch(\"/wp-json/custom/v1/submit-form\", {\r\n\t\tmethod: \"POST\",\r\n\t\theaders: {\r\n\t\t\t\"Content-Type\": \"application/x-www-form-urlencoded\",\r\n\t\t},\r\n\t\tbody: new URLSearchParams(formData).toString(),\r\n\t})\r\n\t\t.then((response) => {\r\n\t\t\tif (!response.ok) {\r\n\t\t\t\tthrow new Error(\"Network response was not ok \" + response.statusText);\r\n\t\t\t}\r\n\t\t\treturn response.json();\r\n\t\t})\r\n\t\t.then((data) => {\r\n\t\t\tconsole.log(\"Response from WordPress endpoint:\", data);\r\n\t\t\tconst city = \"\"; // Extract this from the form or another source\r\n\t\t\tconst stateLong = \"\"; // Extract this from the form or another source\r\n\t\t\tconst zipcode = \"\"; // Extract this from the form or another source\r\n\t\t\twindow.location.href = `/step-2?phone=${phoneField.value}&email=${emailField.value}&propaddress=${autocompleteField.value}&propcity=${city}&propstate=${stateLong}&propzip=${zipcode}&propcountry=USA`;\r\n\t\t})\r\n\t\t.catch((error) => {\r\n\t\t\tconsole.error(\"Error sending data to webhook:\", error);\r\n\t\t});\r\n}\r\n","import { handleFormSubmit } from \"./formHandlers\";\r\nimport { formatToPhone, enforceFormat } from \"./phoneFormat\";\r\n\r\nfunction loadGoogleFonts() {\r\n\tconst link = document.createElement(\"link\");\r\n\tlink.href =\r\n\t\t\"https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap\";\r\n\tlink.rel = \"stylesheet\";\r\n\tdocument.head.appendChild(link);\r\n}\r\n\r\n// Ensure initAutocomplete is globally accessible\r\nexport function initAutocomplete() {\r\n\tconst form = document.getElementById(\"cb-lead-form\");\r\n\r\n\tif (!form) {\r\n\t\tconsole.error(\"Custom form not found.\");\r\n\t\treturn;\r\n\t}\r\n\r\n\tconst autocompleteField = form.querySelector(\r\n\t\t'input[name=\"property_address\"]',\r\n\t);\r\n\tconst fullNameField = form.querySelector('input[name=\"full_name\"]');\r\n\tconst emailField = form.querySelector('input[name=\"email\"]');\r\n\tconst phoneField = form.querySelector('input[name=\"phone\"]');\r\n\tconst formSubmitBtn = form.querySelector('button[type=\"submit\"]');\r\n\r\n\tif (\r\n\t\t!autocompleteField ||\r\n\t\t!fullNameField ||\r\n\t\t!emailField ||\r\n\t\t!phoneField ||\r\n\t\t!formSubmitBtn\r\n\t) {\r\n\t\tconsole.error(\"Required fields not found, skipping form.\");\r\n\t\treturn;\r\n\t}\r\n\r\n\t// Add phone number format handlers\r\n\tphoneField.addEventListener(\"keydown\", enforceFormat);\r\n\tphoneField.addEventListener(\"keyup\", formatToPhone);\r\n\r\n\tlet isAddressValid = false;\r\n\r\n\t// Reset address validity on key strokes\r\n\tautocompleteField.addEventListener(\"input\", function () {\r\n\t\tisAddressValid = false;\r\n\t\tautocompleteField.setCustomValidity(\"\"); // Reset custom validity message\r\n\t});\r\n\r\n\t// Prevent form submission on \"Enter\" keypress until validation passes\r\n\tform.addEventListener(\"keypress\", function (event) {\r\n\t\tif (event.key === \"Enter\" && !autocompleteField.value) {\r\n\t\t\tevent.preventDefault();\r\n\t\t}\r\n\t});\r\n\r\n\tconst autocomplete = new google.maps.places.Autocomplete(autocompleteField, {\r\n\t\ttypes: [\"address\"],\r\n\t\tcomponentRestrictions: { country: \"us\" },\r\n\t});\r\n\r\n\tautocomplete.addListener(\"place_changed\", function () {\r\n\t\tconst place = autocomplete.getPlace();\r\n\r\n\t\tif (!place.geometry) {\r\n\t\t\tconsole.error(\"No geometry found for the place\");\r\n\t\t\tautocompleteField.classList.add(\"invalid\");\r\n\t\t\tisAddressValid = false;\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tlet streetAddress = \"\",\r\n\t\t\tcity = \"\",\r\n\t\t\tstateShort = \"\",\r\n\t\t\tstateLong = \"\",\r\n\t\t\tzipcode = \"\",\r\n\t\t\tcountry = \"\";\r\n\r\n\t\tlet hasStreetNumber = false;\r\n\r\n\t\tfor (const component of place.address_components) {\r\n\t\t\tconst componentType = component.types[0];\r\n\r\n\t\t\tswitch (componentType) {\r\n\t\t\t\tcase \"street_number\":\r\n\t\t\t\t\tstreetAddress = component.long_name;\r\n\t\t\t\t\thasStreetNumber = true;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"route\":\r\n\t\t\t\t\tstreetAddress += \" \" + component.long_name;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"locality\":\r\n\t\t\t\t\tcity = component.long_name;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"administrative_area_level_1\":\r\n\t\t\t\t\tstateShort = component.short_name;\r\n\t\t\t\t\tstateLong = component.long_name;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"postal_code\":\r\n\t\t\t\t\tzipcode = component.long_name;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"country\":\r\n\t\t\t\t\tif (component.short_name === \"US\") {\r\n\t\t\t\t\t\tcountry = \"USA\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (!hasStreetNumber) {\r\n\t\t\tconsole.error(\"Selected place does not have a street number\");\r\n\t\t\tautocompleteField.classList.add(\"invalid\");\r\n\t\t\tisAddressValid = false;\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tautocompleteField.value = `${streetAddress}, ${city}, ${stateShort}, ${country}`;\r\n\t\tif (autocompleteField.value) {\r\n\t\t\tautocompleteField.classList.remove(\"invalid\");\r\n\t\t\tautocompleteField.placeholder = \"Type Your Property Address\";\r\n\t\t\tisAddressValid = true;\r\n\t\t\tautocompleteField.setCustomValidity(\"\"); // Clear any previous custom validity message\r\n\t\t}\r\n\t});\r\n\r\n\t// Address field loses focus event\r\n\tautocompleteField.addEventListener(\"blur\", function () {\r\n\t\tif (!isAddressValid || !autocompleteField.value) {\r\n\t\t\tautocompleteField.classList.add(\"invalid\");\r\n\t\t\tautocompleteField.setCustomValidity(\r\n\t\t\t\t\"Please use autocomplete to enter a complete property address.\",\r\n\t\t\t); // Set custom validity message\r\n\t\t\tautocompleteField.reportValidity(); // Trigger native validation UI\r\n\t\t} else {\r\n\t\t\tautocompleteField.classList.remove(\"invalid\");\r\n\t\t\tautocompleteField.setCustomValidity(\"\"); // Clear any previous custom validity message\r\n\t\t}\r\n\t});\r\n\r\n\tform.addEventListener(\"submit\", function (event) {\r\n\t\tif (!isAddressValid || !autocompleteField.value) {\r\n\t\t\tevent.preventDefault();\r\n\t\t\tautocompleteField.setCustomValidity(\r\n\t\t\t\t\"Please use autocomplete to enter a complete property address.\",\r\n\t\t\t); // Set custom validity message\r\n\t\t\tautocompleteField.reportValidity(); // Trigger native validation UI\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\thandleFormSubmit(event);\r\n\t});\r\n}\r\n\r\n// Ensure initAutocomplete is globally accessible\r\nwindow.initAutocomplete = initAutocomplete;\r\n","// Phone number formatting and validation handlers\r\nexport const isNumericInput = (event) => {\r\n\tconst key = event.keyCode;\r\n\treturn (\r\n\t\t(key >= 48 && key <= 57) || // Allow number line\r\n\t\t(key >= 96 && key <= 105) // Allow number pad\r\n\t);\r\n};\r\n\r\nexport const isModifierKey = (event) => {\r\n\tconst key = event.keyCode;\r\n\treturn (\r\n\t\tevent.shiftKey === true ||\r\n\t\tkey === 35 ||\r\n\t\tkey === 36 || // Allow Shift, Home, End\r\n\t\tkey === 8 ||\r\n\t\tkey === 9 ||\r\n\t\tkey === 13 ||\r\n\t\tkey === 46 || // Allow Backspace, Tab, Enter, Delete\r\n\t\t(key > 36 && key < 41) || // Allow left, up, right, down\r\n\t\t((event.ctrlKey === true || event.metaKey === true) &&\r\n\t\t\t(key === 65 || key === 67 || key === 86 || key === 88 || key === 90)) // Allow Ctrl/Command + A,C,V,X,Z\r\n\t);\r\n};\r\n\r\nexport const enforceFormat = (event) => {\r\n\t// Input must be of a valid number format or a modifier key, and not longer than ten digits\r\n\tif (!isNumericInput(event) && !isModifierKey(event)) {\r\n\t\tevent.preventDefault();\r\n\t}\r\n};\r\n\r\nexport const formatToPhone = (event) => {\r\n\tif (isModifierKey(event)) {\r\n\t\treturn;\r\n\t}\r\n\r\n\tconst input = event.target.value.replace(/\\D/g, \"\").substring(0, 10); // First ten digits of input only\r\n\tconst areaCode = input.substring(0, 3);\r\n\tconst middle = input.substring(3, 6);\r\n\tconst last = input.substring(6, 10);\r\n\r\n\tif (input.length > 6) {\r\n\t\tevent.target.value = `(${areaCode}) ${middle} - ${last}`;\r\n\t} else if (input.length > 3) {\r\n\t\tevent.target.value = `(${areaCode}) ${middle}`;\r\n\t} else if (input.length > 0) {\r\n\t\tevent.target.value = `(${areaCode}`;\r\n\t}\r\n};\r\n","export function loadScript(src) {\r\n\tconst script = document.createElement(\"script\");\r\n\tscript.type = \"text/javascript\";\r\n\tscript.src = src;\r\n\tscript.async = true;\r\n\tscript.defer = true;\r\n\tdocument.head.appendChild(script);\r\n}\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import { loadScript } from \"./modules/utils\";\r\nimport { initAutocomplete } from \"./modules/initAutocomplete\";\r\n\r\n// Ensure initAutocomplete is globally accessible\r\nwindow.initAutocomplete = initAutocomplete;\r\n\r\ndocument.addEventListener(\"DOMContentLoaded\", function () {\r\n\tconsole.log(\"DOM fully loaded and parsed.\");\r\n\t// Load Google Maps API only if not already loaded\r\n\tif (!window.google || !window.google.maps) {\r\n\t\tloadScript(\r\n\t\t\t`https://maps.googleapis.com/maps/api/js?key=${formConfig.googleMapsApiKey}&libraries=places&callback=initAutocomplete`,\r\n\t\t);\r\n\t} else {\r\n\t\twindow.initAutocomplete();\r\n\t}\r\n});\r\n"],"names":["loadGoogleFonts","link","document","createElement","href","rel","head","appendChild","window","addEventListener","event","form","querySelector","style","opacity","handleFormSubmit","preventDefault","target","autocompleteField","fullNameField","emailField","phoneField","formData","property_address","value","full_name","email","phone","utmFields","forEach","field","dataLayer","push","form_data","console","log","fetch","method","headers","body","URLSearchParams","toString","then","response","ok","Error","statusText","json","data","city","stateLong","zipcode","location","catch","error","formatToPhone","enforceFormat","initAutocomplete","getElementById","formSubmitBtn","isAddressValid","setCustomValidity","key","autocomplete","google","maps","places","Autocomplete","types","componentRestrictions","country","addListener","place","getPlace","geometry","classList","add","streetAddress","stateShort","hasStreetNumber","component","address_components","componentType","long_name","short_name","remove","placeholder","reportValidity","isNumericInput","keyCode","isModifierKey","shiftKey","ctrlKey","metaKey","input","replace","substring","areaCode","middle","last","length","loadScript","src","script","type","async","defer","formConfig","googleMapsApiKey"],"sourceRoot":""}