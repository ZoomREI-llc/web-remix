(()=>{function e(){gsap.registerPlugin(Draggable);var e=document.querySelectorAll(".cw-dot"),t=.8,a=!0,r=document.querySelectorAll("._carousel-slide"),n=document.querySelector("#prevButton"),s=document.querySelector("#nextButton");let o=[];document.querySelectorAll(".cw-testimonials__testimonial").forEach(((e,t)=>{let a=e.offsetHeight;console.log(a),o.push(a)}));let l=(c=o,Math.max.apply(null,c));var c;const i=document.querySelector("._carousel-wrapper");i.style.height=`${l}px`;var u=gsap.utils.wrap(0,1),p=r.length;gsap.set(r,{xPercent:e=>100*e});var g=gsap.utils.wrap(-100,100*(p-1)),d=gsap.delayedCall(2,(function(){x.isPressed||x.isDragging||x.isThrowing?d.restart(!0):w(-1)})),m=gsap.to(r,{xPercent:"+="+100*p,duration:1,ease:"none",paused:!0,repeat:-1,modifiers:{xPercent:g}}),f=document.createElement("div"),h=gsap.to({},{}),y=0,v=0,x=new Draggable(f,{trigger:"._carousel-container",inertia:!0,onPress:function(){d.restart(!0),h.kill(),this.update()},onDrag:E,onThrowUpdate:E,snap:{x:L}});function w(e){d.restart(!0),h.kill();var a=L(gsap.getProperty(f,"x")+e*y);h=gsap.to(f,{x:a,duration:t,onUpdate:E})}i.querySelector("._carousel-container").style.touchAction="pan-y",i.querySelectorAll("._carousel-container *").forEach((e=>e.style.touchAction="")),_(),window.addEventListener("resize",_),n.addEventListener("click",(function(){w(1)})),s.addEventListener("click",(function(){w(-1)}));var P=v,S=P/r.length,q=0;function E(){m.progress(u(gsap.getProperty(f,"x")/v));let t=Math.abs(gsap.getProperty(f,"x"));t>P&&(q=P,P+=v),e.forEach(((e,a)=>{e.classList.remove("active"),a===(t-q)/S-1&&e.classList.add("active")}))}function L(e){let t=gsap.utils.snap(y,e);return a?t:gsap.utils.clamp(-y*(p-1),0,t)}function _(){var e=gsap.getProperty(f,"x")/v||0;y=r[0].offsetWidth,v=y*p,a||x.applyBounds({minX:-y*(p-1),maxX:0}),gsap.set(f,{x:e*v}),w(0),h.progress(1)}}document.addEventListener("DOMContentLoaded",(function(){loadScript(["https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js","https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/Draggable.min.js"],e)}))})();