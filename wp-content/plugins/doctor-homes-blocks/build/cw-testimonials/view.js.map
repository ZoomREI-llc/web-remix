{"version":3,"file":"cw-testimonials/view.js","mappings":"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","sources":["webpack://doctor-homes-blocks/./src/cw-testimonials/view.js"],"sourcesContent":["// import gsap from \"gsap\";\n// import { Draggable } from \"gsap/Draggable\";\n//\n\nfunction cwTestimonialsCallback() {\n\tgsap.registerPlugin(Draggable);\n\n\tvar dots = document.querySelectorAll(\".cw-dot\");\n\n\tvar slideDelay = 2;\n\tvar slideDuration = 0.8;\n\tvar wrap = true;\n\n\tvar slides = document.querySelectorAll(\"._carousel-slide\");\n\tvar prevButton = document.querySelector(\"#prevButton\");\n\tvar nextButton = document.querySelector(\"#nextButton\");\n\n\t/////////////////////////////////////////////////////////////////////////////\n\tlet heightArr = [];\n\tvar elems = document.querySelectorAll(\".cw-testimonials__testimonial\");\n\n\telems.forEach((elem, index) => {\n\t\tlet heightBlock = elem.offsetHeight;\n\t\tconsole.log(heightBlock);\n\t\theightArr.push(heightBlock);\n\t});\n\n\tfunction getMaxOfArray(numArray) {\n\t\treturn Math.max.apply(null, numArray);\n\t}\n\tlet max = getMaxOfArray(heightArr);\n\n\t// console.log(max);\n\tconst carouselWrapper = document.querySelector(\"._carousel-wrapper\");\n\tcarouselWrapper.style.height = `${max}px`;\n\t/////////////////////////////////////////////////////////////////////////////\n\n\tvar progressWrap = gsap.utils.wrap(0, 1);\n\n\tvar numSlides = slides.length;\n\n\tgsap.set(slides, {\n\t\txPercent: (i) => i * 100,\n\t});\n\n\tvar wrapX = gsap.utils.wrap(-100, (numSlides - 1) * 100);\n\tvar timer = gsap.delayedCall(slideDelay, autoPlay);\n\n\tvar animation = gsap.to(slides, {\n\t\txPercent: \"+=\" + numSlides * 100,\n\t\tduration: 1,\n\t\tease: \"none\",\n\t\tpaused: true,\n\t\trepeat: -1,\n\t\tmodifiers: {\n\t\t\txPercent: wrapX,\n\t\t},\n\t});\n\n\tvar proxy = document.createElement(\"div\");\n\tvar slideAnimation = gsap.to({}, {});\n\tvar slideWidth = 0;\n\tvar wrapWidth = 0;\n\n\tvar draggable = new Draggable(proxy, {\n\t\ttrigger: \"._carousel-container\",\n\t\tinertia: true,\n\t\tonPress: updateDraggable,\n\t\tonDrag: updateProgress,\n\t\tonThrowUpdate: updateProgress,\n\t\tsnap: {\n\t\t\tx: snapX,\n\t\t},\n\t});\n\n\tcarouselWrapper.querySelector('._carousel-container').style.touchAction = 'pan-y'\n\tcarouselWrapper.querySelectorAll('._carousel-container *').forEach(item=>item.style.touchAction = '')\n\n\tresize();\n\n\twindow.addEventListener(\"resize\", resize);\n\n\tprevButton.addEventListener(\"click\", function () {\n\t\tanimateSlides(1);\n\t});\n\n\tnextButton.addEventListener(\"click\", function () {\n\t\tanimateSlides(-1);\n\t});\n\n\tfunction updateDraggable() {\n\t\ttimer.restart(true);\n\t\tslideAnimation.kill();\n\t\tthis.update();\n\t}\n\n\tfunction animateSlides(direction) {\n\t\ttimer.restart(true);\n\t\tslideAnimation.kill();\n\t\tvar x = snapX(gsap.getProperty(proxy, \"x\") + direction * slideWidth);\n\n\t\tslideAnimation = gsap.to(proxy, {\n\t\t\tx: x,\n\t\t\tduration: slideDuration,\n\t\t\tonUpdate: updateProgress,\n\t\t});\n\t}\n\n\n\tfunction autoPlay() {\n\t\tif (draggable.isPressed || draggable.isDragging || draggable.isThrowing) {\n\t\t\ttimer.restart(true);\n\t\t} else {\n\t\t\tanimateSlides(-1);\n\t\t}\n\t}\n\n\tvar maxWidth = wrapWidth;\n\tvar widthOneItem = maxWidth / slides.length;\n\tvar prevMW = 0;\n\n\tfunction updateProgress() {\n\t\tanimation.progress(progressWrap(gsap.getProperty(proxy, \"x\") / wrapWidth));\n\t\t// //////////////////////////////////////////////////////////////////////////\n\t\tlet prog = Math.abs(gsap.getProperty(proxy, \"x\"));\n\t\tif (prog > maxWidth) {\n\t\t\tprevMW = maxWidth;\n\t\t\tmaxWidth += wrapWidth;\n\t\t}\n\t\tdots.forEach((dot, index) => {\n\t\t\tdot.classList.remove(\"active\");\n\t\t\tif (index === (prog - prevMW) / widthOneItem - 1) {\n\t\t\t\tdot.classList.add(\"active\");\n\t\t\t}\n\t\t});\n\t\t// //////////////////////////////////////////////////////////////////////////\n\t}\n\n\tfunction snapX(value) {\n\t\tlet snapped = gsap.utils.snap(slideWidth, value);\n\t\treturn wrap\n\t\t\t? snapped\n\t\t\t: gsap.utils.clamp(-slideWidth * (numSlides - 1), 0, snapped);\n\t}\n\n\tfunction resize() {\n\t\tvar norm = gsap.getProperty(proxy, \"x\") / wrapWidth || 0;\n\n\t\tslideWidth = slides[0].offsetWidth;\n\t\twrapWidth = slideWidth * numSlides;\n\n\t\twrap ||\n\t\tdraggable.applyBounds({ minX: -slideWidth * (numSlides - 1), maxX: 0 });\n\n\t\tgsap.set(proxy, {\n\t\t\tx: norm * wrapWidth,\n\t\t});\n\n\t\tanimateSlides(0);\n\t\tslideAnimation.progress(1);\n\t}\n}\n\ndocument.addEventListener(\"DOMContentLoaded\", function () {\n\tloadScript([\n\t\t'https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js',\n\t\t'https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/Draggable.min.js',\n\t], cwTestimonialsCallback)\n});\n"],"names":["cwTestimonialsCallback","gsap","registerPlugin","Draggable","dots","document","querySelectorAll","slideDelay","slideDuration","wrap","slides","prevButton","querySelector","nextButton","heightArr","elems","forEach","elem","index","heightBlock","offsetHeight","console","log","push","getMaxOfArray","numArray","Math","max","apply","carouselWrapper","style","height","progressWrap","utils","numSlides","length","set","xPercent","i","wrapX","timer","delayedCall","autoPlay","animation","to","duration","ease","paused","repeat","modifiers","proxy","createElement","slideAnimation","slideWidth","wrapWidth","draggable","trigger","inertia","onPress","updateDraggable","onDrag","updateProgress","onThrowUpdate","snap","x","snapX","touchAction","item","resize","window","addEventListener","animateSlides","restart","kill","update","direction","getProperty","onUpdate","isPressed","isDragging","isThrowing","maxWidth","widthOneItem","prevMW","progress","prog","abs","dot","classList","remove","add","value","snapped","clamp","norm","offsetWidth","applyBounds","minX","maxX","loadScript"],"sourceRoot":""}