{"version":3,"file":"lead-form/view.js","mappings":"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","sources":["webpack://doctor-homes-blocks/./src/lead-form/modules/formHandlers.js","webpack://doctor-homes-blocks/./src/lead-form/modules/gsapAnimations.js","webpack://doctor-homes-blocks/./src/lead-form/modules/initAutocomplete.js","webpack://doctor-homes-blocks/./src/lead-form/modules/phoneFormat.js","webpack://doctor-homes-blocks/webpack/bootstrap","webpack://doctor-homes-blocks/webpack/runtime/define property getters","webpack://doctor-homes-blocks/webpack/runtime/hasOwnProperty shorthand","webpack://doctor-homes-blocks/webpack/runtime/make namespace object","webpack://doctor-homes-blocks/./src/lead-form/view.js"],"sourcesContent":["window.addEventListener(\"load\", (event) => {\n\tconst form = document.querySelector(\"#dh-lead-form\");\n\tif (form) {\n\t\tform.style.opacity = \"1\";\n\t\tform.addEventListener(\"submit\", handleFormSubmit);\n\t}\n});\n\nexport function handleFormSubmit(event) {\n\tevent.preventDefault();\n\n\tconst form = event.target;\n\tconst autocompleteField = form.querySelector(\n\t\t'input[name=\"property_address\"]',\n\t);\n\tconst fullNameField = form.querySelector('input[name=\"full_name\"]');\n\tconst emailField = form.querySelector('input[name=\"email\"]');\n\tconst phoneField = form.querySelector('input[name=\"phone\"]');\n\n\tconst formData = {\n\t\tproperty_address: autocompleteField.value,\n\t\tname: fullNameField.value,\n\t\temail: emailField.value,\n\t\tphone: phoneField.value,\n\t};\n\n\tconst utmFields = [\n\t\t\"utm_source\",\n\t\t\"utm_campaign\",\n\t\t\"utm_medium\",\n\t\t\"utm_term\",\n\t\t\"utm_content\",\n\t];\n\tutmFields.forEach((field) => {\n\t\tconst value = form.querySelector(`input[name=\"${field}\"]`).value;\n\t\tif (value) {\n\t\t\tformData[field] = value;\n\t\t}\n\t});\n\n\twindow.dataLayer.push({ event: \"dh-lead\", form_data: formData });\n\n\tconsole.log(\"Submitting to WordPress endpoint\");\n\tconsole.log(\"Form data:\", formData);\n\n\tfetch(\"/wp-json/custom/v1/submit-form\", {\n\t\tmethod: \"POST\",\n\t\theaders: {\n\t\t\t\"Content-Type\": \"application/x-www-form-urlencoded\",\n\t\t},\n\t\tbody: new URLSearchParams(formData).toString(),\n\t})\n\t\t.then((response) => {\n\t\t\tif (!response.ok) {\n\t\t\t\tthrow new Error(\"Network response was not ok \" + response.statusText);\n\t\t\t}\n\t\t\treturn response.json();\n\t\t})\n\t\t.then((data) => {\n\t\t\tconsole.log(\"Response from WordPress endpoint:\", data);\n\t\t\tconst city = \"\"; // Extract this from the form or another source\n\t\t\tconst stateLong = \"\"; // Extract this from the form or another source\n\t\t\tconst zipcode = \"\"; // Extract this from the form or another source\n\t\t\twindow.location.href = `/step-2?phone=${phoneField.value}&email=${emailField.value}&propaddress=${autocompleteField.value}&propcity=${city}&propstate=${stateLong}&propzip=${zipcode}&propcountry=USA`;\n\t\t})\n\t\t.catch((error) => {\n\t\t\tconsole.error(\"Error sending data to webhook:\", error);\n\t\t});\n}\n","\n// Hide initial fields\nexport function hideInitialFields(fields) {\n\tfields.forEach((field) => {\n\t\tconst fieldContainer = field.closest(\"div\");\n\t\tgsap.set(fieldContainer, { display: \"none\", opacity: 0 });\n\t});\n}\n\n// Show additional fields with animation\nexport function showAdditionalFields(form, fields, formBtnNext) {\n\tconst initialHeight = form.offsetHeight;\n\n\t// Temporarily hide the formBtnNext to calculate the correct new height\n\tgsap.set(formBtnNext, { display: \"none\" });\n\n\tfields.forEach((field) => {\n\t\tconst fieldContainer = field.closest(\"div\");\n\t\tgsap.set(fieldContainer, { display: \"grid\", opacity: 0 });\n\t});\n\n\t// Calculate the new height after displaying the additional fields\n\tconst newHeight = form.scrollHeight;\n\n\tconst tl = gsap.timeline();\n\ttl.to(form, {\n\t\theight: newHeight,\n\t\tduration: 0.5,\n\t\tease: \"power2.out\",\n\t})\n\t\t.to(\n\t\t\tfields.map((field) => field.closest(\"div\")),\n\t\t\t{ opacity: 1, duration: 0.5, stagger: 0.2, ease: \"power2.out\" },\n\t\t\t\"-=0.3\",\n\t\t)\n\t\t.to(form, {\n\t\t\theight: \"auto\", // Set the height back to auto after the animation\n\t\t\tduration: 0,\n\t\t});\n\n\tgsap.set(formBtnNext, { display: \"none\" }); // Ensure the formBtnNext remains hidden\n}\n\n// Handle invalid address\nexport function handleInvalidAddress(autocompleteField) {\n\tautocompleteField.classList.add(\"invalid\");\n\tautocompleteField.placeholder = \"Invalid Property Address\";\n\tgsap.to(autocompleteField, { borderColor: \"red\", duration: 0.5 });\n}\n\n// Reset border color\nexport function resetBorderColor(autocompleteField) {\n\tgsap.to(autocompleteField, { borderColor: \"\", duration: 0.5 });\n}\n","import { handleFormSubmit } from \"./formHandlers\";\nimport { formatToPhone, enforceFormat } from \"./phoneFormat\";\nimport {\n\thideInitialFields,\n\tshowAdditionalFields,\n\thandleInvalidAddress,\n\tresetBorderColor,\n} from \"./gsapAnimations\";\n\n// Ensure initAutocomplete is globally accessible\nexport function initAutocomplete() {\n\tconst form = document.getElementById(\"dh-lead-form\");\n\n\tif (!form) {\n\t\tconsole.error(\"Custom form not found.\");\n\t\treturn;\n\t}\n\n\tconst autocompleteField = form.querySelector(\n\t\t'input[name=\"property_address\"]',\n\t);\n\tconst fullNameField = form.querySelector('input[name=\"full_name\"]');\n\tconst emailField = form.querySelector('input[name=\"email\"]');\n\tconst phoneField = form.querySelector('input[name=\"phone\"]');\n\tconst formBtnNext = form.querySelector(\"#form-btn-next\");\n\tconst formSubmitBtn = form.querySelector('button[type=\"submit\"]');\n\n\tif (\n\t\t!autocompleteField ||\n\t\t!fullNameField ||\n\t\t!emailField ||\n\t\t!phoneField ||\n\t\t!formBtnNext ||\n\t\t!formSubmitBtn\n\t) {\n\t\tconsole.error(\"Required fields not found, skipping form.\");\n\t\treturn;\n\t}\n\n\t// Add phone number format handlers\n\tphoneField.addEventListener(\"keydown\", enforceFormat);\n\tphoneField.addEventListener(\"keyup\", formatToPhone);\n\n\t// Hide additional fields initially\n\thideInitialFields([fullNameField, emailField, phoneField, formSubmitBtn]);\n\n\tlet isAddressValid = false;\n\n\t// Reset address validity on key strokes\n\tautocompleteField.addEventListener(\"input\", function () {\n\t\tisAddressValid = false;\n\t\tautocompleteField.setCustomValidity(\"\"); // Reset custom validity message\n\t});\n\n\t// Prevent form submission on \"Enter\" keypress until validation passes\n\tform.addEventListener(\"keypress\", function (event) {\n\t\tif (event.key === \"Enter\" && !autocompleteField.value) {\n\t\t\tevent.preventDefault();\n\t\t}\n\t});\n\n\tconst autocomplete = new google.maps.places.Autocomplete(autocompleteField, {\n\t\ttypes: [\"address\"],\n\t\tcomponentRestrictions: { country: \"us\" },\n\t});\n\n\tautocomplete.addListener(\"place_changed\", function () {\n\t\tconst place = autocomplete.getPlace();\n\n\t\tif (!place.geometry) {\n\t\t\tconsole.error(\"No geometry found for the place\");\n\t\t\thandleInvalidAddress(autocompleteField);\n\t\t\tisAddressValid = false;\n\t\t\treturn;\n\t\t}\n\n\t\tlet streetAddress = \"\",\n\t\t\tcity = \"\",\n\t\t\tstateShort = \"\",\n\t\t\tstateLong = \"\",\n\t\t\tzipcode = \"\",\n\t\t\tcountry = \"\";\n\n\t\tlet hasStreetNumber = false;\n\n\t\tfor (const component of place.address_components) {\n\t\t\tconst componentType = component.types[0];\n\n\t\t\tswitch (componentType) {\n\t\t\t\tcase \"street_number\":\n\t\t\t\t\tstreetAddress = component.long_name;\n\t\t\t\t\thasStreetNumber = true;\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"route\":\n\t\t\t\t\tstreetAddress += \" \" + component.long_name;\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"locality\":\n\t\t\t\t\tcity = component.long_name;\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"administrative_area_level_1\":\n\t\t\t\t\tstateShort = component.short_name;\n\t\t\t\t\tstateLong = component.long_name;\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"postal_code\":\n\t\t\t\t\tzipcode = component.long_name;\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"country\":\n\t\t\t\t\tif (component.short_name === \"US\") {\n\t\t\t\t\t\tcountry = \"USA\";\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tif (!hasStreetNumber) {\n\t\t\tconsole.error(\"Selected place does not have a street number\");\n\t\t\thandleInvalidAddress(autocompleteField);\n\t\t\tisAddressValid = false;\n\t\t\treturn;\n\t\t}\n\n\t\tautocompleteField.value = `${streetAddress}, ${city}, ${stateShort}, ${zipcode}`;\n\t\tif (autocompleteField.value) {\n\t\t\tautocompleteField.classList.remove(\"invalid\");\n\t\t\tautocompleteField.placeholder = \"Type Your Property Address\";\n\t\t\tresetBorderColor(autocompleteField);\n\t\t\tisAddressValid = true;\n\t\t\tautocompleteField.setCustomValidity(\"\"); // Clear any previous custom validity message\n\t\t}\n\t});\n\n\tformBtnNext.addEventListener(\"click\", function (event) {\n\t\tevent.preventDefault();\n\t\tif (!isAddressValid || !autocompleteField.value) {\n\t\t\thandleInvalidAddress(autocompleteField);\n\t\t\tautocompleteField.setCustomValidity(\n\t\t\t\t\"Please use autocomplete to enter a complete property address.\",\n\t\t\t); // Set custom validity message\n\t\t\tautocompleteField.reportValidity(); // Trigger native validation UI\n\t\t\treturn;\n\t\t}\n\n\t\tautocompleteField.classList.remove(\"invalid\");\n\t\tautocompleteField.placeholder = \"Type Your Property Address\";\n\t\tresetBorderColor(autocompleteField);\n\n\t\tshowAdditionalFields(\n\t\t\tform,\n\t\t\t[fullNameField, emailField, phoneField, formSubmitBtn],\n\t\t\tformBtnNext,\n\t\t);\n\n\t\twindow.dataLayer = window.dataLayer || [];\n\t\twindow.dataLayer.push({ event: \"form_first_click\", form_id: form.id });\n\t});\n\n\tform.addEventListener(\"submit\", handleFormSubmit);\n}\n\n// Ensure initAutocomplete is globally accessible\nwindow.initAutocomplete = initAutocomplete;\n","// Phone number formatting and validation handlers\nexport const isNumericInput = (event) => {\n\tconst key = event.keyCode;\n\treturn (\n\t\t(key >= 48 && key <= 57) || // Allow number line\n\t\t(key >= 96 && key <= 105) // Allow number pad\n\t);\n};\n\nexport const isModifierKey = (event) => {\n\tconst key = event.keyCode;\n\treturn (\n\t\tevent.shiftKey === true ||\n\t\tkey === 35 ||\n\t\tkey === 36 || // Allow Shift, Home, End\n\t\tkey === 8 ||\n\t\tkey === 9 ||\n\t\tkey === 13 ||\n\t\tkey === 46 || // Allow Backspace, Tab, Enter, Delete\n\t\t(key > 36 && key < 41) || // Allow left, up, right, down\n\t\t((event.ctrlKey === true || event.metaKey === true) &&\n\t\t\t(key === 65 || key === 67 || key === 86 || key === 88 || key === 90)) // Allow Ctrl/Command + A,C,V,X,Z\n\t);\n};\n\nexport const enforceFormat = (event) => {\n\t// Input must be of a valid number format or a modifier key, and not longer than ten digits\n\tif (!isNumericInput(event) && !isModifierKey(event)) {\n\t\tevent.preventDefault();\n\t}\n};\n\nexport const formatToPhone = (event) => {\n\tif (isModifierKey(event)) {\n\t\treturn;\n\t}\n\n\tconst input = event.target.value.replace(/\\D/g, \"\").substring(0, 10); // First ten digits of input only\n\tconst areaCode = input.substring(0, 3);\n\tconst middle = input.substring(3, 6);\n\tconst last = input.substring(6, 10);\n\n\tif (input.length > 6) {\n\t\tevent.target.value = `(${areaCode}) ${middle} - ${last}`;\n\t} else if (input.length > 3) {\n\t\tevent.target.value = `(${areaCode}) ${middle}`;\n\t} else if (input.length > 0) {\n\t\tevent.target.value = `(${areaCode}`;\n\t}\n};\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import { initAutocomplete } from \"./modules/initAutocomplete\";\n\nwindow.initAutocomplete = initAutocomplete;\n\ndocument.addEventListener(\"DOMContentLoaded\", function () {\n    console.log('lead loaded')\n    loadScript(`https://maps.googleapis.com/maps/api/js?key=${formConfig.googleMapsApiKey}&libraries=places&callback=initAutocomplete`, initAutocomplete);\n});"],"names":["window","addEventListener","event","form","document","querySelector","style","opacity","handleFormSubmit","preventDefault","target","autocompleteField","fullNameField","emailField","phoneField","formData","property_address","value","name","email","phone","utmFields","forEach","field","dataLayer","push","form_data","console","log","fetch","method","headers","body","URLSearchParams","toString","then","response","ok","Error","statusText","json","data","city","stateLong","zipcode","location","href","catch","error","hideInitialFields","fields","fieldContainer","closest","gsap","set","display","showAdditionalFields","formBtnNext","initialHeight","offsetHeight","newHeight","scrollHeight","tl","timeline","to","height","duration","ease","map","stagger","handleInvalidAddress","classList","add","placeholder","borderColor","resetBorderColor","formatToPhone","enforceFormat","initAutocomplete","getElementById","formSubmitBtn","isAddressValid","setCustomValidity","key","autocomplete","google","maps","places","Autocomplete","types","componentRestrictions","country","addListener","place","getPlace","geometry","streetAddress","stateShort","hasStreetNumber","component","address_components","componentType","long_name","short_name","remove","reportValidity","form_id","id","isNumericInput","keyCode","isModifierKey","shiftKey","ctrlKey","metaKey","input","replace","substring","areaCode","middle","last","length","loadScript","formConfig","googleMapsApiKey"],"sourceRoot":""}